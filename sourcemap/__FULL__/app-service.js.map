{"version": 3,"file": "",
"sourceroot": "",
"sources": ["app.js","components/chatroom/chatroom.js","pages/index/index.js","pages/userConsole/userConsole.js","pages/storageConsole/storageConsole.js","pages/databaseGuide/databaseGuide.js","pages/addFunction/addFunction.js","pages/deployFunctions/deployFunctions.js","pages/chooseLib/chooseLib.js","pages/openapi/openapi.js","pages/openapi/serverapi/serverapi.js","pages/openapi/callback/callback.js","pages/openapi/cloudid/cloudid.js","pages/im/im.js","pages/im/room/room.js","pages/jump/jump.js","pages/cart/cart.js","pages/show/show.js","pages/ask/ask.js"],
"names": ["App","onLaunch","wx","cloud","init","traceUser","console","error","this","globalData","_try2","_onScrollToUpper","_onChooseImage","_onConfirmSendText","_initWatch","_initOpenID","_initRoom","SETDATA_SCROLL_TO_BOTTOM","scrollTop","scrollWithAnimation","Component","properties","envId","String","collection","groupId","groupName","userInfo","Object","onGetUserInfo","type","Function","getOpenID","data","chats","textInputValue","openId","scrollToMessage","hasKeyboard","methods","e","mergeCommonCriteria","criteria","_objectSpread","initRoom","_asyncToGenerator2","default","_regenerator","mark","_callee2","_this","wrap","_context2","prev","next","try","_callee","_this$properties","db","_","_yield$db$collection$","initList","_context","initOpenID","database","env","command","where","orderBy","get","sent","log","setData","reverse","initWatch","length","sendTimeTS","gt","stop","apply","arguments","_callee4","_this2","_context4","abrupt","_callee3","_context3","_callee5","_this3","_context5","warn","messageListener","watch","onChange","onRealtimeMessageSnapshot","bind","onError","inited","fatalRebuildCount","showError","_x","snapshot","_this4","concat","_toConsumableArray2","docs","sort","x","y","scrollToBottom","_step","hasNewMessage","hasOthersMessage","_iterator","_createForOfIteratorHelper","docChanges","_loop","docChange","value","queueType","doc","_openid","ind","findIndex","chat","_id","msgType","tempFilePath","splice","push","s","n","done","err","f","onConfirmSendText","_callee7","_this5","_context7","_callee6","_context6","detail","Math","random","Date","now","avatar","avatarUrl","nickName","textContent","sendTime","writeStatus","add","map","_x2","onChooseImage","_callee10","_this6","_context10","chooseImage","count","sourceType","success","_success","_callee9","res","_this6$properties","_context9","tempFilePaths","uploadFile","cloudPath","match","filePath","config","_callee8","_context8","imgFileID","fileID","fail","onProgressUpdate","_ref5","progress","_x4","_x3","onMessageImageTap","previewImage","urls","target","dataset","fileid","force","_this7","createSelectorQuery","select","boundingClientRect","bodyRect","scrollOffset","scroll","height","scrollHeight","exec","onScrollToUpper","_callee11","_this$data$chats","_yield$this$db$collec","_context11","lt","unshift","_callee12","fn","title","_context12","t0","_x5","_x6","content","confirmText","confirmCallback","showModal","toString","showCancel","confirm","ready","global","chatroom","app","getApp","Page","logged","takeSession","requestResult","onLoad","getSetting","authSetting","getUserInfo","redirectTo","url","onGetOpenid","callFunction","name","result","openid","navigateTo","doUpload","sizeType","showLoading","imagePath","showToast","icon","complete","hideLoading","options","_app$globalData","group","groupEnd","step","counterId","queryResult","onAdd","onQuery","onCounterInc","onCounterDec","onRemove","nextStep","callback","prevStep","goHome","pages","getCurrentPages","navigateBack","reLaunch","canIUseClipboard","canIUse","copyCode","setClipboardData","testFunction","a","b","JSON","stringify","onReady","onShow","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","_requestSubscribeMessage","_getSubscribeMessageTemplate","templateId","subscribeMessageResult","requestSubscribeMessageResult","wxacodeSrc","wxacodeResult","showClearWXACodeCache","getSubscribeMessageTemplate","_yield$wx$cloud$callF","action","requestSubscribeMessage","tmplIds","sendSubscribeMessage","submitSubscribeMessageForm","formId","templateMessageResult","onGetWXACode","getStorageSync","setStorageSync","clearWXACodeCache","removeStorageSync","onCustomerServiceButtonClick","weRunResult","userInfoResult","onGetWeRunData","getWeRunData","info","CloudID","cloudID","then","catch","openData","list","_getOpenID","chatRoomCollection","chatRoomGroupId","chatRoomGroupName","getSystemInfo","safeArea","_res$safeArea","top","bottom","containerStyle","test","system","windowHeight","path","startPoint","mytouchstart","touches","pageX","pageY","mytouchmove","curPoint","abs","timeStamp","timestamp"],
"mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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",
"sourcesContent": ["//app.js\nApp({\n  onLaunch: function () {\n    if (!wx.cloud) {\n      console.error('请使用 2.2.3 或以上的基础库以使用云能力')\n    } else {\n      wx.cloud.init({\n        // env 参数说明：\n        //   env 参数决定接下来小程序发起的云开发调用（wx.cloud.xxx）会默认请求到哪个云环境的资源\n        //   此处请填入环境 ID, 环境 ID 可打开云控制台查看\n        //   如不填则使用默认环境（第一个创建的环境）\n        // env: 'my-env-id',\n        traceUser: true,\n      })\n    }\n\n    this.globalData = {}\n  }\n})\n","const FATAL_REBUILD_TOLERANCE = 10\nconst SETDATA_SCROLL_TO_BOTTOM = {\n  scrollTop: 100000,\n  scrollWithAnimation: true,\n}\n\nComponent({\n  properties: {\n    envId: String,\n    collection: String,\n    groupId: String,\n    groupName: String,\n    userInfo: Object,\n    onGetUserInfo: {\n      type: Function,\n    },\n    getOpenID: {\n      type: Function,\n    },\n  },\n\n  data: {\n    chats: [],\n    textInputValue: '',\n    openId: '',\n    scrollTop: 0,\n    scrollToMessage: '',\n    hasKeyboard: false,\n  },\n\n  methods: {\n    onGetUserInfo(e) {\n      this.properties.onGetUserInfo(e)\n    },\n\n    getOpenID() { \n      return this.properties.getOpenID() \n    },\n\n    mergeCommonCriteria(criteria) {\n      return {\n        groupId: this.data.groupId,\n        ...criteria,\n      }\n    },\n\n    async initRoom() {\n      this.try(async () => {\n        await this.initOpenID()\n\n        const { envId, collection } = this.properties\n        this.db = wx.cloud.database({\n          env: envId,\n        })\n        const db = this.db\n        const _ = db.command\n\n        const { data: initList } = await db.collection(collection).where(this.mergeCommonCriteria()).orderBy('sendTimeTS', 'desc').get()\n\n        console.log('init query chats', initList)\n\n        this.setData({\n          chats: initList.reverse(),\n          scrollTop: 10000,\n        })\n\n        this.initWatch(initList.length ? {\n          sendTimeTS: _.gt(initList[initList.length - 1].sendTimeTS),\n        } : {})\n      }, '初始化失败')\n    },\n\n    async initOpenID() {\n      return this.try(async () => {\n        const openId = await this.getOpenID()\n\n        this.setData({\n          openId,\n        })\n      }, '初始化 openId 失败')\n    },\n\n    async initWatch(criteria) {\n      this.try(() => {\n        const { collection } = this.properties\n        const db = this.db\n        const _ = db.command\n\n        console.warn(`开始监听`, criteria)\n        this.messageListener = db.collection(collection).where(this.mergeCommonCriteria(criteria)).watch({\n          onChange: this.onRealtimeMessageSnapshot.bind(this),\n          onError: e => {\n            if (!this.inited || this.fatalRebuildCount >= FATAL_REBUILD_TOLERANCE) {\n              this.showError(this.inited ? '监听错误，已断开' : '初始化监听失败', e, '重连', () => {\n                this.initWatch(this.data.chats.length ? {\n                  sendTimeTS: _.gt(this.data.chats[this.data.chats.length - 1].sendTimeTS),\n                } : {})\n              })\n            } else {\n              this.initWatch(this.data.chats.length ? {\n                sendTimeTS: _.gt(this.data.chats[this.data.chats.length - 1].sendTimeTS),\n              } : {})\n            }\n          },\n        })\n      }, '初始化监听失败')\n    },\n\n    onRealtimeMessageSnapshot(snapshot) {\n      console.warn(`收到消息`, snapshot)\n\n      if (snapshot.type === 'init') {\n        this.setData({\n          chats: [\n            ...this.data.chats,\n            ...[...snapshot.docs].sort((x, y) => x.sendTimeTS - y.sendTimeTS),\n          ],\n        })\n        this.scrollToBottom()\n        this.inited = true\n      } else {\n        let hasNewMessage = false\n        let hasOthersMessage = false\n        const chats = [...this.data.chats]\n        for (const docChange of snapshot.docChanges) {\n          switch (docChange.queueType) {\n            case 'enqueue': {\n              hasOthersMessage = docChange.doc._openid !== this.data.openId\n              const ind = chats.findIndex(chat => chat._id === docChange.doc._id)\n              if (ind > -1) {\n                if (chats[ind].msgType === 'image' && chats[ind].tempFilePath) {\n                  chats.splice(ind, 1, {\n                    ...docChange.doc,\n                    tempFilePath: chats[ind].tempFilePath,\n                  })\n                } else chats.splice(ind, 1, docChange.doc)\n              } else {\n                hasNewMessage = true\n                chats.push(docChange.doc)\n              }\n              break\n            }\n          }\n        }\n        this.setData({\n          chats: chats.sort((x, y) => x.sendTimeTS - y.sendTimeTS),\n        })\n        if (hasOthersMessage || hasNewMessage) {\n          this.scrollToBottom()\n        }\n      }\n    },\n\n    async onConfirmSendText(e) {\n      this.try(async () => {\n        if (!e.detail.value) {\n          return\n        }\n\n        const { collection } = this.properties\n        const db = this.db\n        const _ = db.command\n\n        const doc = {\n          _id: `${Math.random()}_${Date.now()}`,\n          groupId: this.data.groupId,\n          avatar: this.data.userInfo.avatarUrl,\n          nickName: this.data.userInfo.nickName,\n          msgType: 'text',\n          textContent: e.detail.value,\n          sendTime: new Date(),\n          sendTimeTS: Date.now(), // fallback\n        }\n\n        this.setData({\n          textInputValue: '',\n          chats: [\n            ...this.data.chats,\n            {\n              ...doc,\n              _openid: this.data.openId,\n              writeStatus: 'pending',\n            },\n          ],\n        })\n        this.scrollToBottom(true)\n\n        await db.collection(collection).add({\n          data: doc,\n        })\n\n        this.setData({\n          chats: this.data.chats.map(chat => {\n            if (chat._id === doc._id) {\n              return {\n                ...chat,\n                writeStatus: 'written',\n              }\n            } else return chat\n          }),\n        })\n      }, '发送文字失败')\n    },\n\n    async onChooseImage(e) {\n      wx.chooseImage({\n        count: 1,\n        sourceType: ['album', 'camera'],\n        success: async res => {\n          const { envId, collection } = this.properties\n          const doc = {\n            _id: `${Math.random()}_${Date.now()}`,\n            groupId: this.data.groupId,\n            avatar: this.data.userInfo.avatarUrl,\n            nickName: this.data.userInfo.nickName,\n            msgType: 'image',\n            sendTime: new Date(),\n            sendTimeTS: Date.now(), // fallback\n          }\n\n          this.setData({\n            chats: [\n              ...this.data.chats,\n              {\n                ...doc,\n                _openid: this.data.openId,\n                tempFilePath: res.tempFilePaths[0],\n                writeStatus: 0,\n              },\n            ]\n          })\n          this.scrollToBottom(true)\n\n          const uploadTask = wx.cloud.uploadFile({\n            cloudPath: `${this.data.openId}/${Math.random()}_${Date.now()}.${res.tempFilePaths[0].match(/\\.(\\w+)$/)[1]}`,\n            filePath: res.tempFilePaths[0],\n            config: {\n              env: envId,\n            },\n            success: res => {\n              this.try(async () => {\n                await this.db.collection(collection).add({\n                  data: {\n                    ...doc,\n                    imgFileID: res.fileID,\n                  },\n                })\n              }, '发送图片失败')\n            },\n            fail: e => {\n              this.showError('发送图片失败', e)\n            },\n          })\n\n          uploadTask.onProgressUpdate(({ progress }) => {\n            this.setData({\n              chats: this.data.chats.map(chat => {\n                if (chat._id === doc._id) {\n                  return {\n                    ...chat,\n                    writeStatus: progress,\n                  }\n                } else return chat\n              })\n            })\n          })\n        },\n      })\n    },\n\n    onMessageImageTap(e) {\n      wx.previewImage({\n        urls: [e.target.dataset.fileid],\n      })\n    },\n\n    scrollToBottom(force) {\n      if (force) {\n        console.log('force scroll to bottom')\n        this.setData(SETDATA_SCROLL_TO_BOTTOM)\n        return\n      }\n\n      this.createSelectorQuery().select('.body').boundingClientRect(bodyRect => {\n        this.createSelectorQuery().select(`.body`).scrollOffset(scroll => {\n          if (scroll.scrollTop + bodyRect.height * 3 > scroll.scrollHeight) {\n            console.log('should scroll to bottom')\n            this.setData(SETDATA_SCROLL_TO_BOTTOM)\n          }\n        }).exec()\n      }).exec()\n    },\n\n    async onScrollToUpper() {\n      if (this.db && this.data.chats.length) {\n        const { collection } = this.properties\n        const _ = this.db.command\n        const { data } = await this.db.collection(collection).where(this.mergeCommonCriteria({\n          sendTimeTS: _.lt(this.data.chats[0].sendTimeTS),\n        })).orderBy('sendTimeTS', 'desc').get()\n        this.data.chats.unshift(...data.reverse())\n        this.setData({\n          chats: this.data.chats,\n          scrollToMessage: `item-${data.length}`,\n          scrollWithAnimation: false,\n        })\n      }\n    },\n\n    async try(fn, title) {\n      try {\n        await fn()\n      } catch (e) {\n        this.showError(title, e)\n      }\n    },\n\n    showError(title, content, confirmText, confirmCallback) {\n      console.error(title, content)\n      wx.showModal({\n        title,\n        content: content.toString(),\n        showCancel: confirmText ? true : false,\n        confirmText,\n        success: res => {\n          res.confirm && confirmCallback()\n        },\n      })\n    },\n  },\n\n  ready() {\n    global.chatroom = this\n    this.initRoom()\n    this.fatalRebuildCount = 0\n  },\n})\n","//index.js\nconst app = getApp()\n\nPage({\n  data: {\n    avatarUrl: './user-unlogin.png',\n    userInfo: {},\n    logged: false,\n    takeSession: false,\n    requestResult: ''\n  },\n\n  onLoad: function() {\n    if (!wx.cloud) {\n      wx.redirectTo({\n        url: '../chooseLib/chooseLib',\n      })\n      return\n    }\n\n    // 获取用户信息\n    wx.getSetting({\n      success: res => {\n        if (res.authSetting['scope.userInfo']) {\n          // 已经授权，可以直接调用 getUserInfo 获取头像昵称，不会弹框\n          wx.getUserInfo({\n            success: res => {\n              this.setData({\n                avatarUrl: res.userInfo.avatarUrl,\n                userInfo: res.userInfo\n              })\n            }\n          })\n        }\n      }\n    })\n  },\n\n  onGetUserInfo: function(e) {\n    if (!this.data.logged && e.detail.userInfo) {\n      this.setData({\n        logged: true,\n        avatarUrl: e.detail.userInfo.avatarUrl,\n        userInfo: e.detail.userInfo\n      })\n    }\n  },\n\n  onGetOpenid: function() {\n    // 调用云函数\n    wx.cloud.callFunction({\n      name: 'login',\n      data: {},\n      success: res => {\n        console.log('[云函数] [login] user openid: ', res.result.openid)\n        app.globalData.openid = res.result.openid\n        wx.navigateTo({\n          url: '../userConsole/userConsole',\n        })\n      },\n      fail: err => {\n        console.error('[云函数] [login] 调用失败', err)\n        wx.navigateTo({\n          url: '../deployFunctions/deployFunctions',\n        })\n      }\n    })\n  },\n\n  // 上传图片\n  doUpload: function () {\n    // 选择图片\n    wx.chooseImage({\n      count: 1,\n      sizeType: ['compressed'],\n      sourceType: ['album', 'camera'],\n      success: function (res) {\n        wx.showLoading({\n          title: '上传中',\n        })\n\n        const filePath = res.tempFilePaths[0]\n        \n        // 上传图片\n        const cloudPath = `my-image${filePath.match(/\\.[^.]+?$/)[0]}`\n        wx.cloud.uploadFile({\n          cloudPath,\n          filePath,\n          success: res => {\n            console.log('[上传文件] 成功：', res)\n\n            app.globalData.fileID = res.fileID\n            app.globalData.cloudPath = cloudPath\n            app.globalData.imagePath = filePath\n            \n            wx.navigateTo({\n              url: '../storageConsole/storageConsole'\n            })\n          },\n          fail: e => {\n            console.error('[上传文件] 失败：', e)\n            wx.showToast({\n              icon: 'none',\n              title: '上传失败',\n            })\n          },\n          complete: () => {\n            wx.hideLoading()\n          }\n        })\n      },\n      fail: e => {\n        console.error(e)\n      }\n    })\n  },\n\n})\n","// pages/userConsole/userConsole.js\nPage({\n\n  data: {\n    openid: ''\n  },\n\n  onLoad: function (options) {\n    this.setData({\n      openid: getApp().globalData.openid\n    })\n  }\n})\n","// pages/storageConsole/storageConsole.js\n\nconst app = getApp()\n\nPage({\n\n  data: {\n    fileID: '',\n    cloudPath: '',\n    imagePath: '',\n  },\n\n  onLoad: function (options) {\n    const {\n      fileID,\n      cloudPath,\n      imagePath,\n    } = app.globalData\n\n    this.setData({\n      fileID,\n      cloudPath,\n      imagePath,\n    })\n\n    console.group('文件存储文档')\n    console.log('https://developers.weixin.qq.com/miniprogram/dev/wxcloud/guide/storage.html')\n    console.groupEnd()\n  },\n\n})\n","// pages/databaseGuide/databaseGuide.js\n\nconst app = getApp()\n\nPage({\n\n  data: {\n    step: 1,\n    counterId: '',\n    openid: '',\n    count: null,\n    queryResult: '',\n  },\n\n  onLoad: function (options) {\n    if (app.globalData.openid) {\n      this.setData({\n        openid: app.globalData.openid\n      })\n    }\n  },\n\n  onAdd: function () {\n    const db = wx.cloud.database()\n    db.collection('counters').add({\n      data: {\n        count: 1\n      },\n      success: res => {\n        // 在返回结果中会包含新创建的记录的 _id\n        this.setData({\n          counterId: res._id,\n          count: 1\n        })\n        wx.showToast({\n          title: '新增记录成功',\n        })\n        console.log('[数据库] [新增记录] 成功，记录 _id: ', res._id)\n      },\n      fail: err => {\n        wx.showToast({\n          icon: 'none',\n          title: '新增记录失败'\n        })\n        console.error('[数据库] [新增记录] 失败：', err)\n      }\n    })\n  },\n\n  onQuery: function() {\n    // const db = wx.cloud.database()\n    // // 查询当前用户所有的 counters\n    // db.collection('counters').where({\n    //   _openid: this.data.openid\n    // }).get({\n    //   success: res => {\n    //     this.setData({\n    //       queryResult: JSON.stringify(res.data, null, 2)\n    //     })\n    //     console.log('[数据库] [查询记录] 成功: ', res)\n    //   },\n    //   fail: err => {\n    //     wx.showToast({\n    //       icon: 'none',\n    //       title: '查询记录失败'\n    //     })\n    //     console.error('[数据库] [查询记录] 失败：', err)\n    //   }\n    // })\n  },\n\n  onCounterInc: function() {\n    // const db = wx.cloud.database()\n    // const newCount = this.data.count + 1\n    // db.collection('counters').doc(this.data.counterId).update({\n    //   data: {\n    //     count: newCount\n    //   },\n    //   success: res => {\n    //     this.setData({\n    //       count: newCount\n    //     })\n    //   },\n    //   fail: err => {\n    //     icon: 'none',\n    //     console.error('[数据库] [更新记录] 失败：', err)\n    //   }\n    // })\n  },\n\n  onCounterDec: function() {\n    // const db = wx.cloud.database()\n    // const newCount = this.data.count - 1\n    // db.collection('counters').doc(this.data.counterId).update({\n    //   data: {\n    //     count: newCount\n    //   },\n    //   success: res => {\n    //     this.setData({\n    //       count: newCount\n    //     })\n    //   },\n    //   fail: err => {\n    //     icon: 'none',\n    //     console.error('[数据库] [更新记录] 失败：', err)\n    //   }\n    // })\n  },\n\n  onRemove: function() {\n    // if (this.data.counterId) {\n    //   const db = wx.cloud.database()\n    //   db.collection('counters').doc(this.data.counterId).remove({\n    //     success: res => {\n    //       wx.showToast({\n    //         title: '删除成功',\n    //       })\n    //       this.setData({\n    //         counterId: '',\n    //         count: null,\n    //       })\n    //     },\n    //     fail: err => {\n    //       wx.showToast({\n    //         icon: 'none',\n    //         title: '删除失败',\n    //       })\n    //       console.error('[数据库] [删除记录] 失败：', err)\n    //     }\n    //   })\n    // } else {\n    //   wx.showToast({\n    //     title: '无记录可删，请见创建一个记录',\n    //   })\n    // }\n  },\n\n  nextStep: function () {\n    // 在第一步，需检查是否有 openid，如无需获取\n    if (this.data.step === 1 && !this.data.openid) {\n      wx.cloud.callFunction({\n        name: 'login',\n        data: {},\n        success: res => {\n          app.globalData.openid = res.result.openid\n          this.setData({\n            step: 2,\n            openid: res.result.openid\n          })\n        },\n        fail: err => {\n          wx.showToast({\n            icon: 'none',\n            title: '获取 openid 失败，请检查是否有部署 login 云函数',\n          })\n          console.log('[云函数] [login] 获取 openid 失败，请检查是否有部署云函数，错误信息：', err)\n        }\n      })\n    } else {\n      const callback = this.data.step !== 6 ? function() {} : function() {\n        console.group('数据库文档')\n        console.log('https://developers.weixin.qq.com/miniprogram/dev/wxcloud/guide/database.html')\n        console.groupEnd()\n      }\n\n      this.setData({\n        step: this.data.step + 1\n      }, callback)\n    }\n  },\n\n  prevStep: function () {\n    this.setData({\n      step: this.data.step - 1\n    })\n  },\n\n  goHome: function() {\n    const pages = getCurrentPages()\n    if (pages.length === 2) {\n      wx.navigateBack()\n    } else if (pages.length === 1) {\n      wx.redirectTo({\n        url: '../index/index',\n      })\n    } else {\n      wx.reLaunch({\n        url: '../index/index',\n      })\n    }\n  }\n\n})\n","// pages/addFunction/addFunction.js\n\nconst code = `// 云函数入口函数\nexports.main = async (event, context) => {\n  console.log(event)\n  console.log(context)\n  return {\n    sum: event.a + event.b\n  }\n}`\n\nPage({\n\n  data: {\n    result: '',\n    canIUseClipboard: wx.canIUse('setClipboardData'),\n  },\n\n  onLoad: function (options) {\n\n  },\n\n  copyCode: function() {\n    wx.setClipboardData({\n      data: code,\n      success: function () {\n        wx.showToast({\n          title: '复制成功',\n        })\n      }\n    })\n  },\n\n  testFunction() {\n    wx.cloud.callFunction({\n      name: 'sum',\n      data: {\n        a: 1,\n        b: 2\n      },\n      success: res => {\n        wx.showToast({\n          title: '调用成功',\n        })\n        this.setData({\n          result: JSON.stringify(res.result)\n        })\n      },\n      fail: err => {\n        wx.showToast({\n          icon: 'none',\n          title: '调用失败',\n        })\n        console.error('[云函数] [sum] 调用失败：', err)\n      }\n    })\n  },\n\n})\n\n","// pages/deployFunctions/deployFunctions.js\nPage({\n\n  /**\n   * 页面的初始数据\n   */\n  data: {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {\n\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh: function () {\n\n  },\n\n  /**\n   * 页面上拉触底事件的处理函数\n   */\n  onReachBottom: function () {\n\n  },\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {\n\n  }\n})\n","// pages/chooseLib/chooseLib.js\nPage({\n\n  /**\n   * 页面的初始数据\n   */\n  data: {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {\n\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  onPullDownRefresh: function () {\n\n  },\n\n  /**\n   * 页面上拉触底事件的处理函数\n   */\n  onReachBottom: function () {\n\n  },\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {\n\n  }\n})\n","Page({\n  data: {\n  },\n})\n\n","Page({\n\n  data: {\n    templateId: '',\n    subscribeMessageResult: '',\n    requestSubscribeMessageResult: '',\n    wxacodeSrc: '',\n    wxacodeResult: '',\n    showClearWXACodeCache: false,\n  },\n\n  async getSubscribeMessageTemplate() {\n    try {\n      const { result } = await wx.cloud.callFunction({\n        name: 'openapi',\n        data: {\n          action: 'requestSubscribeMessage',\n        },\n      })\n\n      const templateId = result\n\n      console.warn('[云函数] [openapi] 获取订阅消息模板 调用成功：', templateId)\n      this.setData({\n        templateId,\n      })\n    } catch (err) {\n      wx.showToast({\n        icon: 'none',\n        title: '调用失败',\n      })\n      console.error('[云函数] [openapi] 获取订阅消息模板 调用失败：', err)\n    }\n  },\n\n  async requestSubscribeMessage() {\n    const templateId = this.data.templateId\n\n    if (!templateId) {\n      wx.showModal({\n        title: '发送失败',\n        content: '请先获取模板 ID',\n        showCancel: false,\n      })\n    }\n\n    wx.requestSubscribeMessage({\n      tmplIds: [templateId],\n      success: (res) => {\n        if (res[templateId] === 'accept') {\n          this.setData({\n            requestSubscribeMessageResult: '成功',\n          })\n        } else {\n          this.setData({\n            requestSubscribeMessageResult: `失败（${res[templateId]}）`,\n          })\n        }\n      },\n      fail: (err) => {\n        this.setData({\n          requestSubscribeMessageResult: `失败（${JSON.stringify(err)}）`,\n        })\n      },\n    })\n  },\n\n  sendSubscribeMessage(e) {\n    this.setData({\n      subscribeMessageResult: '',\n    })\n\n    wx.cloud.callFunction({\n      name: 'openapi',\n      data: {\n        action: 'sendSubscribeMessage',\n        templateId: this.data.templateId,\n      },\n      success: res => {\n        console.warn('[云函数] [openapi] subscribeMessage.send 调用成功：', res)\n        wx.showModal({\n          title: '发送成功',\n          content: '请返回微信主界面查看',\n          showCancel: false,\n        })\n        wx.showToast({\n          title: '发送成功，请返回微信主界面查看',\n        })\n        this.setData({\n          subscribeMessageResult: JSON.stringify(res.result)\n        })\n      },\n      fail: err => {\n        wx.showToast({\n          icon: 'none',\n          title: '调用失败',\n        })\n        console.error('[云函数] [openapi] subscribeMessage.send 调用失败：', err)\n      }\n    })\n  },\n\n  submitSubscribeMessageForm(e) {\n    this.setData({\n      subscribeMessageResult: '',\n    })\n\n    wx.cloud.callFunction({\n      name: 'openapi',\n      data: {\n        action: 'sendSubscribeMessage',\n        formId: e.detail.formId,\n      },\n      success: res => {\n        console.warn('[云函数] [openapi] subscribeMessage.send 调用成功：', res)\n        wx.showModal({\n          title: '发送成功',\n          content: '请返回微信主界面查看',\n          showCancel: false,\n        })\n        wx.showToast({\n          title: '发送成功，请返回微信主界面查看',\n        })\n        this.setData({\n          templateMessageResult: JSON.stringify(res.result)\n        })\n      },\n      fail: err => {\n        wx.showToast({\n          icon: 'none',\n          title: '调用失败',\n        })\n        console.error('[云函数] [openapi] templateMessage.send 调用失败：', err)\n      }\n    })\n  },\n\n  onGetWXACode() {\n    this.setData({\n      wxacodeSrc: '',\n      wxacodeResult: '',\n      showClearWXACodeCache: false,\n    })\n\n    // 此处为演示，将使用 localStorage 缓存，正常开发中文件 ID 应存在数据库中\n    const fileID = wx.getStorageSync('wxacodeCloudID')\n\n    if (fileID) {\n      // 有云文件 ID 缓存，直接使用该 ID\n      // 如需清除缓存，选择菜单栏中的 “工具 -> 清除缓存 -> 清除数据缓存”，或在 Storage 面板中删掉相应的 key\n      this.setData({\n        wxacodeSrc: fileID,\n        wxacodeResult: `从本地缓存中取得了小程序码的云文件 ID`,\n        showClearWXACodeCache: true,\n      })\n      console.log(`从本地缓存中取得了小程序码的云文件 ID：${fileID}`)\n    } else {\n      wx.cloud.callFunction({\n        name: 'openapi',\n        data: {\n          action: 'getWXACode',\n        },\n        success: res => {\n          console.warn('[云函数] [openapi] wxacode.get 调用成功：', res)\n          wx.showToast({\n            title: '调用成功',\n          })\n          this.setData({\n            wxacodeSrc: res.result,\n            wxacodeResult: `云函数获取二维码成功`,\n            showClearWXACodeCache: true,\n          })\n          wx.setStorageSync('wxacodeCloudID', res.result)\n        },\n        fail: err => {\n          wx.showToast({\n            icon: 'none',\n            title: '调用失败',\n          })\n          console.error('[云函数] [openapi] wxacode.get 调用失败：', err)\n        }\n      })\n    }\n  },\n\n  clearWXACodeCache() {\n    wx.removeStorageSync('wxacodeCloudID')\n\n    this.setData({\n      wxacodeSrc: '',\n      wxacodeResult: '',\n      showClearWXACodeCache: false,\n    })\n\n    wx.showToast({\n      title: '清除成功',\n    })\n  },\n\n})\n\n","// miniprogram/pages/openapi/callback/callback.js\nPage({\n\n  data: {\n\n  },\n\n  onLoad: function (options) {\n\n  },\n\n  onCustomerServiceButtonClick(e) {\n    console.log(e)\n  },\n})\n","// miniprogram/pages/openapi/cloudid/cloudid.js\nPage({\n\n  data: {\n    weRunResult: '',\n    userInfoResult: '',\n  },\n\n  onGetWeRunData() {\n    wx.getWeRunData({\n      success: res => {\n        wx.cloud.callFunction({\n          name: 'echo',\n          data: {\n            // info 字段在云函数 event 对象中会被自动替换为相应的敏感数据\n            info: wx.cloud.CloudID(res.cloudID),\n          },\n        }).then(res => {\n          console.log('[onGetWeRunData] 收到 echo 回包：', res)\n\n          this.setData({\n            weRunResult: JSON.stringify(res.result),\n          })\n\n          wx.showToast({\n            title: '敏感数据获取成功',\n          })\n        }).catch(err => {\n          console.log('[onGetWeRunData] 失败：', err)\n        })\n      }\n    })\n  },\n\n  onGetUserInfo(e) {\n    console.log(e)\n    wx.cloud.callFunction({\n      name: 'openapi',\n      data: {\n        action: 'getOpenData',\n        openData: {\n          list: [\n            e.detail.cloudID,\n          ]\n        }\n      }\n    }).then(res => {\n      console.log('[onGetUserInfo] 调用成功：', res)\n\n      this.setData({\n        userInfoResult: JSON.stringify(res.result),\n      })\n\n      wx.showToast({\n        title: '敏感数据获取成功',\n      })\n    })\n  }\n})\n","const app = getApp()\n\nPage({\n  data: {\n  },\n\n  onLoad: function (options) {\n    if (app.globalData.openid) {\n      this.setData({\n        openid: app.globalData.openid\n      })\n    }\n\n    console.group('数据库\"实时数据推送\"文档')\n    console.log('https://developers.weixin.qq.com/miniprogram/dev/wxcloud/guide/database/realtime.html')\n    console.groupEnd()\n  },\n})\n","const app = getApp()\n\nPage({\n  data: {\n    avatarUrl: './user-unlogin.png',\n    userInfo: null,\n    logged: false,\n    takeSession: false,\n    requestResult: '',\n    // chatRoomEnvId: 'release-f8415a',\n    chatRoomCollection: 'chatroom',\n    chatRoomGroupId: 'demo',\n    chatRoomGroupName: '聊天室',\n\n    // functions for used in chatroom components\n    onGetUserInfo: null,\n    getOpenID: null,\n  },\n\n  onLoad: function() {\n    // 获取用户信息\n    wx.getSetting({\n      success: res => {\n        if (res.authSetting['scope.userInfo']) {\n          // 已经授权，可以直接调用 getUserInfo 获取头像昵称，不会弹框\n          wx.getUserInfo({\n            success: res => {\n              this.setData({\n                avatarUrl: res.userInfo.avatarUrl,\n                userInfo: res.userInfo\n              })\n            }\n          })\n        }\n      }\n    })\n\n    this.setData({\n      onGetUserInfo: this.onGetUserInfo,\n      getOpenID: this.getOpenID,\n    })\n\n    wx.getSystemInfo({\n      success: res => {\n        console.log('system info', res)\n        if (res.safeArea) {\n          const { top, bottom } = res.safeArea\n          this.setData({\n            containerStyle: `padding-top: ${(/ios/i.test(res.system) ? 10 : 20) + top}px; padding-bottom: ${20 + res.windowHeight - bottom}px`,\n          })\n        }\n      },\n    })\n  },\n\n  getOpenID: async function() {\n    if (this.openid) {\n      return this.openid\n    }\n\n    const { result } = await wx.cloud.callFunction({\n      name: 'login',\n    })\n\n    return result.openid\n  },\n\n  onGetUserInfo: function(e) {\n    if (!this.logged && e.detail.userInfo) {\n      this.setData({\n        logged: true,\n        avatarUrl: e.detail.userInfo.avatarUrl,\n        userInfo: e.detail.userInfo\n      })\n    }\n  },\n\n  onShareAppMessage() {\n    return {\n      title: '即时通信 Demo',\n      path: '/pages/im/room/room',\n    }\n  },\n})\n","// pages/jump/jump.js\n\nPage({\n  data: {\n    //初始化touchstar坐标\n    startPoint: [0, 0]\n  },\n  mytouchstart: function (e) {\n    //开始触摸, 获取触摸点坐标并放入数组中\n    this.setData({\n      startPoint: [e.touches[0].pageX, e.touches[0].pageY]\n    });\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {\n\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   \n  onPullDownRefresh: function () {\n\n  },\n\n\n  /**\n   * 页面上拉触底事件的处理函数\n   \n  onReachBottom: function () {\n\n  },\n  */\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {\n\n  },\n  //触摸点移动\n  mytouchmove: function (e) {\n    //当前触摸点坐标\n    var curPoint = [e.touches[0].pageX, e.touches[0].pageY];\n    var startPoint = this.data.startPoint;\n    //比较pageX值\n    if (curPoint[0] <= startPoint[0]) {\n      if (Math.abs(curPoint[0] - startPoint[0]) >= Math.abs(curPoint[1] - startPoint[1])) {\n        console.log(e.timeStamp + '-touch left move')\n      } else {\n        if (curPoint[1] >= startPoint[1]) {\n          console.log(e.timeStamp + '-touch down move')\n        } else {\n          console.log(e.timeStamp + '-touch up move')\n        }\n      }\n    } else {\n      if (Math.abs(curPoint[0] - startPoint[0]) >= Math.abs(curPoint[1] - startPoint[1])) {\n        console.log(e.timeStamp + '-touch right move')\n      } else {\n        if (curPoint[1] >= startPoint[1]) {\n          console.log(e.timeStamp + '-touch down move')\n        } else {\n          console.log(e.timestamp + '-touch up move')\n        }\n      }\n    }\n  }\n})","// pages/jump/jump.js\n\nPage({\n  data: {\n    //初始化touchstar坐标\n    startPoint: [0, 0]\n  },\n  mytouchstart: function (e) {\n    //开始触摸, 获取触摸点坐标并放入数组中\n    this.setData({\n      startPoint: [e.touches[0].pageX, e.touches[0].pageY]\n    });\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {\n\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   \n  onPullDownRefresh: function () {\n\n  },\n\n\n  /**\n   * 页面上拉触底事件的处理函数\n   \n  onReachBottom: function () {\n\n  },\n  */\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {\n\n  },\n  //触摸点移动\n  mytouchmove: function (e) {\n    //当前触摸点坐标\n    var curPoint = [e.touches[0].pageX, e.touches[0].pageY];\n    var startPoint = this.data.startPoint;\n    //比较pageX值\n    if (curPoint[0] <= startPoint[0]) {\n      if (Math.abs(curPoint[0] - startPoint[0]) >= Math.abs(curPoint[1] - startPoint[1])) {\n        console.log(e.timeStamp + '-touch left move')\n      } else {\n        if (curPoint[1] >= startPoint[1]) {\n          console.log(e.timeStamp + '-touch down move')\n        } else {\n          console.log(e.timeStamp + '-touch up move')\n        }\n      }\n    } else {\n      if (Math.abs(curPoint[0] - startPoint[0]) >= Math.abs(curPoint[1] - startPoint[1])) {\n        console.log(e.timeStamp + '-touch right move')\n      } else {\n        if (curPoint[1] >= startPoint[1]) {\n          console.log(e.timeStamp + '-touch down move')\n        } else {\n          console.log(e.timestamp + '-touch up move')\n        }\n      }\n    }\n  }\n})","// pages/jump/jump.js\n\nPage({\n  data: {\n    //初始化touchstar坐标\n    startPoint: [0, 0]\n  },\n  mytouchstart: function (e) {\n    //开始触摸, 获取触摸点坐标并放入数组中\n    this.setData({\n      startPoint: [e.touches[0].pageX, e.touches[0].pageY]\n    });\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {\n\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   \n  onPullDownRefresh: function () {\n\n  },\n\n\n  /**\n   * 页面上拉触底事件的处理函数\n   \n  onReachBottom: function () {\n\n  },\n  */\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {\n\n  },\n  //触摸点移动\n  mytouchmove: function (e) {\n    //当前触摸点坐标\n    var curPoint = [e.touches[0].pageX, e.touches[0].pageY];\n    var startPoint = this.data.startPoint;\n    //比较pageX值\n    if (curPoint[0] <= startPoint[0]) {\n      if (Math.abs(curPoint[0] - startPoint[0]) >= Math.abs(curPoint[1] - startPoint[1])) {\n        console.log(e.timeStamp + '-touch left move')\n      } else {\n        if (curPoint[1] >= startPoint[1]) {\n          console.log(e.timeStamp + '-touch down move')\n        } else {\n          console.log(e.timeStamp + '-touch up move')\n        }\n      }\n    } else {\n      if (Math.abs(curPoint[0] - startPoint[0]) >= Math.abs(curPoint[1] - startPoint[1])) {\n        console.log(e.timeStamp + '-touch right move')\n      } else {\n        if (curPoint[1] >= startPoint[1]) {\n          console.log(e.timeStamp + '-touch down move')\n        } else {\n          console.log(e.timestamp + '-touch up move')\n        }\n      }\n    }\n  }\n})","// pages/jump/jump.js\n\nPage({\n  data: {\n    //初始化touchstar坐标\n    startPoint: [0, 0]\n  },\n  mytouchstart: function (e) {\n    //开始触摸, 获取触摸点坐标并放入数组中\n    this.setData({\n      startPoint: [e.touches[0].pageX, e.touches[0].pageY]\n    });\n  },\n  /**\n   * 生命周期函数--监听页面加载\n   */\n  onLoad: function (options) {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面初次渲染完成\n   */\n  onReady: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面显示\n   */\n  onShow: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面隐藏\n   */\n  onHide: function () {\n\n  },\n\n  /**\n   * 生命周期函数--监听页面卸载\n   */\n  onUnload: function () {\n\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   \n  onPullDownRefresh: function () {\n\n  },\n\n\n  /**\n   * 页面上拉触底事件的处理函数\n   \n  onReachBottom: function () {\n\n  },\n  */\n\n  /**\n   * 用户点击右上角分享\n   */\n  onShareAppMessage: function () {\n\n  },\n  //触摸点移动\n  mytouchmove: function (e) {\n    //当前触摸点坐标\n    var curPoint = [e.touches[0].pageX, e.touches[0].pageY];\n    var startPoint = this.data.startPoint;\n    //比较pageX值\n    if (curPoint[0] <= startPoint[0]) {\n      if (Math.abs(curPoint[0] - startPoint[0]) >= Math.abs(curPoint[1] - startPoint[1])) {\n        console.log(e.timeStamp + '-touch left move')\n      } else {\n        if (curPoint[1] >= startPoint[1]) {\n          console.log(e.timeStamp + '-touch down move')\n        } else {\n          console.log(e.timeStamp + '-touch up move')\n        }\n      }\n    } else {\n      if (Math.abs(curPoint[0] - startPoint[0]) >= Math.abs(curPoint[1] - startPoint[1])) {\n        console.log(e.timeStamp + '-touch right move')\n      } else {\n        if (curPoint[1] >= startPoint[1]) {\n          console.log(e.timeStamp + '-touch down move')\n        } else {\n          console.log(e.timestamp + '-touch up move')\n        }\n      }\n    }\n  }\n})"]}